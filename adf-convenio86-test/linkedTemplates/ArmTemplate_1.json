{
	"$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion": "1.0.0.0",
	"parameters": {
		"factoryName": {
			"type": "string",
			"metadata": "Data Factory name",
			"defaultValue": "adf-convenio86-test"
		}
	},
	"variables": {
		"factoryId": "[concat('Microsoft.DataFactory/factories/', parameters('factoryName'))]"
	},
	"resources": [
		{
			"name": "[concat(parameters('factoryName'), '/CVTB_FATURA_ITEM_KENAN')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "AzureSqlDatabaseConv86",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Kenan"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "ID_FATURA_ITEM_KENAN",
						"type": "decimal",
						"precision": 28,
						"scale": 0
					},
					{
						"name": "ID_LOTE_ARQUIVO",
						"type": "decimal",
						"precision": 28,
						"scale": 0
					},
					{
						"name": "CONTA_COBRANCA",
						"type": "varchar"
					},
					{
						"name": "CPF_CNPJ",
						"type": "varchar"
					},
					{
						"name": "ID_FATURA",
						"type": "varchar"
					},
					{
						"name": "ID_OPEN_ITEM",
						"type": "varchar"
					},
					{
						"name": "DESC_OPEN_ITEM",
						"type": "varchar"
					},
					{
						"name": "VLR_ITEM",
						"type": "decimal",
						"precision": 15,
						"scale": 2
					},
					{
						"name": "VLR_CONTESTADO",
						"type": "decimal",
						"precision": 15,
						"scale": 2
					},
					{
						"name": "VLR_PAGO_ITEM",
						"type": "decimal",
						"precision": 15,
						"scale": 2
					},
					{
						"name": "DT_FECHA_SALDO_ITEM",
						"type": "date"
					},
					{
						"name": "NOTA_FISCAL",
						"type": "varchar"
					},
					{
						"name": "UF_NF",
						"type": "varchar"
					},
					{
						"name": "SERIE_NF",
						"type": "varchar"
					},
					{
						"name": "SUBSERIE_NF",
						"type": "varchar"
					},
					{
						"name": "STEP_EXECUTION_ID",
						"type": "decimal",
						"precision": 19,
						"scale": 0
					},
					{
						"name": "JOB_EXECUTION_ID",
						"type": "decimal",
						"precision": 19,
						"scale": 0
					}
				],
				"typeProperties": {
					"schema": "CONVENIO",
					"table": "CVTB_FATURA_ITEM_KENAN"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/ListaArquivosBlobsAtis_Limpos')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "blob_storage_conv86",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Atis"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"folderPath": "atis",
						"container": "arq-ajustes"
					},
					"columnDelimiter": "",
					"escapeChar": "\\",
					"firstRowAsHeader": false,
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/ListaArquivosBlobsAtis_Originais')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "blob_storage_conv86",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Atis"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"folderPath": "atis",
						"container": "arq-ajustes"
					},
					"columnDelimiter": "|#&",
					"encodingName": "UTF-8",
					"escapeChar": "\\",
					"firstRowAsHeader": false,
					"quoteChar": "\""
				},
				"schema": [
					{
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/ListaArquivosBlobsAtlys_Limpos')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "blob_storage_conv86",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Atlys"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"folderPath": "atlys/validados_a_processar",
						"container": "arq-ajustes"
					},
					"columnDelimiter": "|",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/ListaArquivosBlobsAtlys_Originais')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "blob_storage_conv86",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Atlys"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"folderPath": "atlys",
						"container": "arq-ajustes"
					},
					"columnDelimiter": "|",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/ListaArquivosBlobsKenan_Originais')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "blob_storage_conv86",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Kenan"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"folderPath": "kenan",
						"container": "arq-ajustes"
					},
					"columnDelimiter": ",",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": [
					{
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/VerificaDiretorioAtis')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "blob_storage_conv86",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Atis"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"folderPath": "atis",
						"container": "arq-ajustes"
					},
					"columnDelimiter": "|#&",
					"escapeChar": "\\",
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/VerificaDiretorioAtlys')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "blob_storage_conv86",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Atlys"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"folderPath": "atlys",
						"container": "arq-ajustes"
					},
					"columnDelimiter": ",",
					"escapeChar": "\\",
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/VerificaDiretorioKenan')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "blob_storage_conv86",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Kenan"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"folderPath": "kenan",
						"container": "arq-ajustes"
					},
					"columnDelimiter": ",",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/arq_Conv115_Cadastral')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "blob_storage_conv86",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Conv115"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": "SP0255815700016222C  1910S01D.006",
						"container": "arq-conv115"
					},
					"columnDelimiter": "#$%",
					"encodingName": "ISO-8859-1",
					"escapeChar": "\\",
					"quoteChar": "\""
				},
				"schema": [
					{
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/arq_Conv115_Cadastral_parquet')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "blob_storage_conv86",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Conv115"
				},
				"annotations": [],
				"type": "Parquet",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": "teste",
						"folderPath": "parquet/convenio115Cadastral",
						"container": "arq-conv115"
					},
					"compressionCodec": "snappy"
				},
				"schema": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/arq_Conv115_ItemNF')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "blob_storage_conv86",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Conv115"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": "SP0255815700016222C  1910S01I.006",
						"container": "arq-conv115"
					},
					"columnDelimiter": "#$%",
					"encodingName": "WINDOWS-1252",
					"escapeChar": "\\",
					"quoteChar": "\""
				},
				"schema": [
					{
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/arq_Conv115_MestreNF')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "blob_storage_conv86",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "Conv115"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": "SP0255815700016222C  1910S01M.006",
						"container": "arq-conv115"
					},
					"columnDelimiter": "#$%",
					"encodingName": "ISO-8859-1",
					"escapeChar": "\\",
					"quoteChar": "\""
				},
				"schema": [
					{
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/arq_atis_nao_pago')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "blob_storage_conv86",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"NomeArq": {
						"type": "string"
					}
				},
				"folder": {
					"name": "Atis"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": {
							"value": "@dataset().NomeArq",
							"type": "Expression"
						},
						"folderPath": "atis/validados_a_processar",
						"container": "arq-ajustes"
					},
					"columnDelimiter": "",
					"escapeChar": "\\",
					"firstRowAsHeader": false,
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/arq_atis_nao_pago_corrigido')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "blob_storage_conv86",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"NomeArq": {
						"type": "string"
					}
				},
				"folder": {
					"name": "Atis"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": {
							"value": "@dataset().NomeArq",
							"type": "Expression"
						},
						"folderPath": "atis/validados_a_processar",
						"container": "arq-ajustes"
					},
					"columnDelimiter": "",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": [
					{
						"name": "Linha",
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/arq_atis_nao_pago_original')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "blob_storage_conv86",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"NomeArq": {
						"type": "string"
					}
				},
				"folder": {
					"name": "Atis"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": {
							"value": "@dataset().NomeArq",
							"type": "Expression"
						},
						"folderPath": "atis",
						"container": "arq-ajustes"
					},
					"columnDelimiter": "",
					"escapeChar": "\\",
					"firstRowAsHeader": false,
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/arq_atis_pago')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "blob_storage_conv86",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"NomeArq": {
						"type": "string"
					}
				},
				"folder": {
					"name": "Atis"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": {
							"value": "@dataset().NomeArq",
							"type": "Expression"
						},
						"folderPath": "atis/validados_a_processar",
						"container": "arq-ajustes"
					},
					"columnDelimiter": "",
					"encodingName": "UTF-8",
					"escapeChar": "\\",
					"firstRowAsHeader": false,
					"quoteChar": "\""
				},
				"schema": [
					{
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/arq_atis_pago_original')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "blob_storage_conv86",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"NomeArq": {
						"type": "string"
					}
				},
				"folder": {
					"name": "Atis"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": {
							"value": "@dataset().NomeArq",
							"type": "Expression"
						},
						"folderPath": "atis",
						"container": "arq-ajustes"
					},
					"columnDelimiter": "",
					"escapeChar": "\\",
					"firstRowAsHeader": false,
					"quoteChar": "\""
				},
				"schema": []
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/arq_atis_pago_validados')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "blob_storage_conv86",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"NomeArquivoAtis": {
						"type": "string"
					}
				},
				"folder": {
					"name": "Atis"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": {
							"value": "@dataset().NomeArquivoAtis",
							"type": "Expression"
						},
						"folderPath": "atis/validados_a_processar",
						"container": "arq-ajustes"
					},
					"columnDelimiter": "",
					"escapeChar": "\\",
					"firstRowAsHeader": false,
					"quoteChar": "\""
				},
				"schema": [
					{
						"name": "Linha",
						"type": "String"
					}
				]
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/arq_atlys_adj')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "blob_storage_conv86",
					"type": "LinkedServiceReference"
				},
				"parameters": {
					"NomeArq": {
						"type": "string"
					}
				},
				"folder": {
					"name": "Atlys"
				},
				"annotations": [],
				"type": "DelimitedText",
				"typeProperties": {
					"location": {
						"type": "AzureBlobStorageLocation",
						"fileName": {
							"value": "@dataset().NomeArq",
							"type": "Expression"
						},
						"folderPath": "atlys/validados_a_processar",
						"container": "arq-ajustes"
					},
					"columnDelimiter": "|",
					"escapeChar": "\\",
					"firstRowAsHeader": true,
					"quoteChar": "\""
				},
				"schema": [
					{
						"name": "CLIENTE_ID",
						"type": "String"
					},
					{
						"name": "NOTA_FISCAL",
						"type": "String"
					},
					{
						"name": "DTEMISSAONF",
						"type": "String"
					},
					{
						"name": "VALOR_ORIG_NFST",
						"type": "String"
					},
					{
						"name": "SERIE",
						"type": "String"
					},
					{
						"name": "CONTA_CLIENTE",
						"type": "String"
					},
					{
						"name": "CNPJ_CPF",
						"type": "String"
					},
					{
						"name": "NOMECLIENTE",
						"type": "String"
					},
					{
						"name": "TERMINAL",
						"type": "String"
					},
					{
						"name": "VALOR_CONTEST_AJUSTE",
						"type": "String"
					},
					{
						"name": "VALOR_ATRIBUIDO",
						"type": "String"
					},
					{
						"name": "DATA_ATRIBUICAO",
						"type": "String"
					},
					{
						"name": "HORA_ATRIBUICAO",
						"type": "String"
					},
					{
						"name": "DATA_AJUSTE",
						"type": "String"
					},
					{
						"name": "HORA_AJUSTE",
						"type": "String"
					},
					{
						"name": "OPERADORA",
						"type": "String"
					},
					{
						"name": "CODIGO OPERADORA",
						"type": "String"
					},
					{
						"name": "CODMOTIVOAJUSTES",
						"type": "String"
					},
					{
						"name": "DESCMOTIVOAJUSTE",
						"type": "String"
					},
					{
						"name": "DATAABERTURAIMPU",
						"type": "String"
					},
					{
						"name": "DATAFECHIMPUG",
						"type": "String"
					},
					{
						"name": "DSPUT_ID",
						"type": "String"
					},
					{
						"name": "TP_NOTA_FISCAL",
						"type": "String"
					},
					{
						"name": "CLASSE_RECEBER",
						"type": "String"
					},
					{
						"name": "CONTACONTABIL",
						"type": "String"
					},
					{
						"name": "DESCRCONTACONTABIL",
						"type": "String"
					},
					{
						"name": "NUMERO_FATURA",
						"type": "String"
					},
					{
						"name": "VALOR_DOCTO_ORIGINAL",
						"type": "String"
					},
					{
						"name": "MES_ANO_REFERENTE",
						"type": "String"
					},
					{
						"name": "DATAVENCFATUR",
						"type": "String"
					},
					{
						"name": "VALOR_PAGAMENTO",
						"type": "String"
					},
					{
						"name": "DATA_ATRIBUICAO_PGTO",
						"type": "String"
					},
					{
						"name": "FATU_ATRIBUIDA",
						"type": "String"
					},
					{
						"name": "DTEMISSAOFATURA",
						"type": "String"
					},
					{
						"name": "MESANOFATURA",
						"type": "String"
					},
					{
						"name": "VALOR_FATURA",
						"type": "String"
					},
					{
						"name": "SALDO_DEVEDOR",
						"type": "String"
					},
					{
						"name": "UF",
						"type": "String"
					},
					{
						"name": "OPERADORA_REAL",
						"type": "String"
					},
					{
						"name": "SALDO_FATURA_INI",
						"type": "String"
					},
					{
						"name": "SALDO_FATURA_FIM",
						"type": "String"
					},
					{
						"name": "SEQ_RECEBIVEL",
						"type": "String"
					}
				]
			},
			"dependsOn": []
		}
	]
}